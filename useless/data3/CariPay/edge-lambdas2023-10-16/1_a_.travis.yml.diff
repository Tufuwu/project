language: node_js
node_js:
- 16
before_script:
- deploy/setup.sh
script:
- deploy/deploy.sh
env:
  global:
    AWS_ACCOUNT_ID: 500307732655
notifications:
  slack:
    rooms:
      secure: LoolZpjoss6YG09mla5ps6TdpkMVb/ioCPB+4R/antrjfEIybgw2nM7qOjQFhLMI7DXTCDvTeKHp6a4CAmavL63sxUjqzANqVnRbomsWuFH3WbkbNv/tWbBIiB/0h/MIFFv8goxO4tXQddLcjTvtt/kdE3K3SMenfIlhiCVdG80nWcnBMRPXijfXOHL8ZY6Mh5KOPCw1i5q+r3GDBrXsKeYZViTWADyHxD+rkouedIZRFJWOF5LpwNLp258unhYbODFVsQ933nFfKk7Eusm5MH5Tb7RWlvl3TxFRnc6PunBAQrMX4RaoRgO/u6cr/P5EkFFkVx0h7aW16P/8h8LlY11eX3YbOMQT2ENsTNr7UvdNCQobqEFMbqlti47fD4u0fKfHf72sa/HcPlRmihCMlzpAzzCbgv0FkDfx4N6mkknXwZsi+iGOmObhwzOiI+Vzt5e+VWOcAdJTfbdBqn37lw+bMX1xIEyWTBtlDyFFz4mf5jNUHraNnA/HNzzajDUJH2NOJnCbHO1tN8TYiGtxjFGrzOXpEDGci/U8VmY9UMV1ZvkaCga3ph/KUoZfKqEUp6UH6cCCLRhePC42vwuZQVlg+3sBFLuvNkp12LxLifchOEejCfehC8kPm8LS+WWh7QGRWwgJGlgISIbKzU7itfYLeHXRUn8PLdYU8OGe6Fg=
    on_succes: always
    on_failure: always
    on_pull_requests: true
    template:
      - "Repo: %{repository_name}"
      - "PR: #<%{pull_request_url}|%{pull_request_number}>"
      - "Branch: <%{compare_url}|%{branch}>"
      - "Build: #%{build_number} - <%{build_url}|%{result}>"
