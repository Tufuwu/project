         uses: actions/setup-python@v1
         with:
           version: ${{ matrix.python-version }}

       - name: Set up Java
         uses: actions/setup-java@v1
         with:
           version: 11

       - name: Install dependencies
         run: |
           python -m pip install --upgrade pip
           pip install pycodestyle asyncpg
           pip install .

       - name: Test
         run: python -m unittest -v

       - name: Pycodestyle
         run: pycodestyle cr8

      - name: Build package
        run: |
          python -m pip install twine wheel
          python setup.py sdist bdist_wheel
          twine check dist/*.tar.gz
