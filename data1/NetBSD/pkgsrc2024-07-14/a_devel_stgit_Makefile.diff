diff --git a/devel/stgit/Makefile b/devel/stgit/Makefile
index 960a2afebd76..8b7dc1e0090e 100644
--- a/devel/stgit/Makefile
++ b/devel/stgit/Makefile
@@ -1,49 +1,45 @@
-# $NetBSD: Makefile,v 1.51 2023/08/14 05:24:17 wiz Exp $
# $NetBSD: Makefile,v 1.52 2024/07/14 06:24:52 wiz Exp $
 
-DISTNAME=	stgit-0.17.1
-PKGREVISION=	21
DISTNAME=	stgit-2.4.7
 CATEGORIES=	devel
-MASTER_SITES=	http://download.gna.org/stgit/
MASTER_SITES=	${MASTER_SITE_GITHUB:=stacked-git/}
GITHUB_RELEASE=	v${PKGVERSION_NOREV}
 
 MAINTAINER=	terin@terinstock.com
-HOMEPAGE=	http://www.procode.org/stgit/
HOMEPAGE=	https://stacked-git.github.io/
 COMMENT=	Stacked GIT
 LICENSE=	gnu-gpl-v2
 
 TOOL_DEPENDS+=	asciidoc>=8:../../textproc/asciidoc
-TOOL_DEPENDS+=	docbook-xsl>=1.72:../../textproc/docbook-xsl
 TOOL_DEPENDS+=	xmlto-[0-9]*:../../textproc/xmlto
 DEPENDS+=	git-base>=1.5.2:../../devel/git-base
 
-EGG_NAME=	${DISTNAME}_dirty
-AUTO_MKDIRS=	yes
-USE_TOOLS+=	bash:run perl gmake
-USE_LANGUAGES=	#none
USE_TOOLS+=	gmake perl pkg-config
 
-REPLACE_PERL=	Documentation/build-docdep.perl
-REPLACE_BASH=	contrib/stg-*
REPLACE_PERL+=	Documentation/build-docdep.perl
REPLACE_PERL+=	Documentation/cat-texi.perl
REPLACE_PERL+=	Documentation/fix-texi.perl
MAKE_ENV+=	PERL_PATH=${PERL5}
 
-REPLACE_PYTHON=			*.py stgit/*.py stg
-PYSETUPINSTALLARGS=		--prefix=${PREFIX}
-PYTHON_VERSIONS_ACCEPTED=	27 # not yet ported as of 0.17.1
INSTALLATION_DIRS=	bin man share
 
-MAKE_ENV+=	ASCIIDOC=${PREFIX}/bin/asciidoc
INSTALL_MAKE_FLAGS+=	STG_PROFILE=release
INSTALL_MAKE_FLAGS+=	prefix=${PREFIX}
INSTALL_MAKE_FLAGS+=	mandir=${PREFIX}/${PKGMANDIR}
INSTALL_MAKE_FLAGS+=	${DESTDIR:DDESTDIR=}${DESTDIR}
 
-pre-build:
-	cd ${WRKSRC}/Documentation && \
-	${SETENV} ${MAKE_ENV} ${GMAKE} all
INSTALL_TARGET=		install
INSTALL_TARGET+=	install-man
INSTALL_TARGET+=	install-html
INSTALL_TARGET+=	install-completion
 
-pre-install:
-	${CHMOD} a-x ${WRKSRC}/contrib/stgbashprompt.sh
do-install:
	${RUN} ${_ULIMIT_CMD}						\
	cd ${WRKSRC} && ${PKGSRC_SETENV} ${INSTALL_ENV} ${MAKE_ENV} 	\
		${MAKE_PROGRAM} ${MAKE_FLAGS} ${INSTALL_MAKE_FLAGS}	\
			-f ${MAKE_FILE} ${INSTALL_TARGET}
 
-post-install:
-	cd ${WRKSRC}/contrib && \
-	${RM} -f *.orig && \
-	${INSTALL_SCRIPT} stg-* ${DESTDIR}${PREFIX}/bin
-	cd ${WRKSRC}/Documentation && \
-	${INSTALL_MAN} *.1 ${DESTDIR}${PREFIX}/${PKGMANDIR}/man1 && \
-	${INSTALL_DATA} *.html ${DESTDIR}/${PREFIX}/share/doc/${PKGBASE}/html
-
-.include "../../lang/python/application.mk"
-.include "../../lang/python/egg.mk"
.include "cargo-depends.mk"
.include "../../lang/rust/cargo.mk"
.include "../../security/openssl/buildlink3.mk"
 .include "../../mk/bsd.pkg.mk"
