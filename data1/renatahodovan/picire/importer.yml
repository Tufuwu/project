name: Tufuwu/test2
on:
  push:
    branches:
    - "**/*"
  pull_request:
concurrency:
#   # This item has no matching transformer
#   maximum_number_of_builds: 0
jobs:
  test:
    runs-on: windows-latest
    env:
      TOXENV: py2
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - run: choco install python2
    - run: eval $(powershell -NonInteractive -Command 'write("export PATH=`"" + ([Environment]::GetEnvironmentVariable("PATH","Machine") + ";" + [Environment]::GetEnvironmentVariable("PATH","User")).replace("\","/").replace("C:","/c").replace(";",":") + ":`$PATH`"")')
    - run: python --version
    - run: pip --version
    - run: pip install -U certifi
    - run: pip install -U tox
    - run: tox -v
  test_2:
    runs-on: windows-latest
    env:
      TOXENV: py3
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - run: choco install python3
    - run: eval $(powershell -NonInteractive -Command 'write("export PATH=`"" + ([Environment]::GetEnvironmentVariable("PATH","Machine") + ";" + [Environment]::GetEnvironmentVariable("PATH","User")).replace("\","/").replace("C:","/c").replace(";",":") + ":`$PATH`"")')
    - run: python --version
    - run: pip --version
    - run: pip install -U certifi
    - run: pip install -U tox
    - run: tox -v
  test_3:
    runs-on: macos-latest
    env:
      TOXENV: py2
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - run: pip install -U tox
    - run: tox -v
  test_4:
    runs-on: macos-latest
    env:
      TOXENV: py3
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - run: pip install -U tox
    - run: tox -v
  test_5:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 2.7
    - run: pip install -U tox
    - run: tox -v
  test_6:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: pip install -U tox
    - run: tox -v
  test_7:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.6
    - run: pip install -U tox
    - run: tox -v
  test_8:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.7
    - run: pip install -U tox
    - run: tox -v
  test_9:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.8
    - run: pip install -U tox
    - run: tox -v
  test_10:
    runs-on: ubuntu-latest
    env:
      TOXENV: lint
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: pip install -U tox
    - run: tox -v
  coverage:
    needs:
    - test
    - test_2
    - test_3
    - test_4
    - test_5
    - test_6
    - test_7
    - test_8
    - test_9
    - test_10
    runs-on: ubuntu-latest
    env:
      TOXENV: cov
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: pip install -U tox
    - run: pip install -U coveralls
    - run: tox -v
    - run: coveralls
      if: "${{ success() }}"
  deploy:
    needs:
    - test
    - test_2
    - test_3
    - test_4
    - test_5
    - test_6
    - test_7
    - test_8
    - test_9
    - test_10
    - coverage
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: skip
    - run: skip
#     # This item has no matching transformer
#     - pypi:
#         provider: pypi
#         user: renatahodovan
#         password:
#           secure: cv69l4WQtvWn/kAe750iDllw6I8ex14//QvBCYBpNV9CzF6z5YiWLyL9w8OIyP7sBCAOyBzHD2Lg0NFqLfqWx2UrgrE2jHdafSRC14x1gTcoojI0hj02RrYY8/4//AK0Rk7My1LgsFNQ0jOl9pG5rdM3HgwX2HrtlPZidAu/tu4HBgD2eTYJ8LedCAqcHVKvsddPYiMlFN9R8sNc3q43KYTt86NeuX43QuyyD1Lg4+wrZPDVh0rpWUcJDLYs/xKLoeB2dudn5fxVXZIrsyVtX00G9B0TiSNaa3Bqay+qf3lZ1Xrv/r5GpkF9FjBSHqi8YliUXqxaQ3S1qPR9huM1LLzXCVwdzp8LZTUxs4wa3q5c5xXe58evOksjpw54f848mdNJ1C1fqK3P/WrVorwd7ieYPAi23ZOgGyURG5lD/u7yddzvuc6gMvFgC+OsiWv5MYBOLfKykIwpsIS98dMuQ3c2HW58yslAf084JlM+33QpZMDeSDYn/2osNBY756KpKdgDq6Qa/jewuQ/97AdZGDOZ2Zd6Elhh3+zu4eHCB5J5dDErCtHCcnjh+2nCRGRaFTSVOFkOwtGUCWIUXg+I39kz8to97+UfK84i/DWyOXVmJvFq0Q8Tqf6ouqVY21RVZRjjF8dqsBQtEUW6ZdqIriGYrCFnjPYs8T1/58XpGmk=
#         'on':
#           repo: renatahodovan/picire
#           tags: true
#       if: "${{ github.event_name == 'push' && ${{ github.ref }} }}"