name: Tufuwu/test2
on:
  push:
    branches:
    - "**/*"
  pull_request:
concurrency:
#   # This item has no matching transformer
#   maximum_number_of_builds: 0
jobs:
  test:
    runs-on: windows-latest
    env:
      TOXENV: py3
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - run: choco install openjdk python3
    - run: eval $(powershell -NonInteractive -Command 'write("export PATH=`"" + ([Environment]::GetEnvironmentVariable("PATH","Machine") + ";" + [Environment]::GetEnvironmentVariable("PATH","User")).replace("\","/").replace("C:","/c").replace(";",":") + ":`$PATH`"")')
    - run: python --version
    - run: pip --version
    - run: java -version
    - run: pip install -U certifi
    - run: pip install -U tox
    - run: tox -v
  test_2:
    runs-on: macos-latest
    env:
      TOXENV: py3
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - run: pip install -U tox
    - run: tox -v
  test_3:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: pip install -U tox
    - run: tox -v
  test_4:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.6
    - run: pip install -U tox
    - run: tox -v
  test_5:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.7
    - run: pip install -U tox
    - run: tox -v
  test_6:
    runs-on: ubuntu-latest
    env:
      TOXENV: py
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.8
    - run: pip install -U tox
    - run: tox -v
  test_7:
    runs-on: ubuntu-latest
    env:
      TOXENV: lint
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: pip install -U tox
    - run: tox -v
  coverage:
    needs:
    - test
    - test_2
    - test_3
    - test_4
    - test_5
    - test_6
    - test_7
    runs-on: ubuntu-latest
    env:
      TOXENV: cov
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: pip install -U tox
    - run: pip install -U coveralls
    - run: tox -v
    - run: coveralls
      if: "${{ success() }}"
  deploy:
    needs:
    - test
    - test_2
    - test_3
    - test_4
    - test_5
    - test_6
    - test_7
    - coverage
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v4.1.0
      with:
        fetch-depth: false
    - uses: actions/setup-python@v5.0.0
      with:
        python-version: 3.5
    - run: skip
    - run: skip
#     # This item has no matching transformer
#     - pypi:
#         provider: pypi
#         user: renatahodovan
#         password:
#           secure: YX8m/eC6+BNjRZLEh85K59lBgPcvJr2Mfasq/ELL7TDnA5C0k3Klajl44QE4m7ikRoQvNQHE8+snS3kycbUCinCwu/p/woflikn63yn2UW9WHVoz020hIlfxx4XdlxU5maNP0GGi3c9hVHybBsom9EKsbNNYjT6OXME425V/KjmJy4JzHCj6KeXhmU0qDPPLFBHOSMSuB4zGCvIUIzNe72z4X7nUnS8hKsbewBKE0nI6Th95bghsDMTGxFl6qHsx+KCFsHnz5n77byra4VwfGcOjAXqgfPApMaot4Qh+LZK8rWk7oiBEcjZ7wzn6dXFZz3QRGU+5FCsj0jJe8CMGpGdSxoBlwnVOWX/DChvbFdNQE5V3nTyHMXiYxI9TNUH6Fgl6uSH+INLLAEKhPkBxhoLM8ygErJ5jjib9D2tIzI/1/60VLQ4AIPjfgsAJ5AIMqKE/fEmu3iDM73QmOVRC+maKMaP06OQ25YFb6LFvy1yqA9NQl5mO4O+NBgdZen5F5ZI7WmIn89g1BnLODHylle/JV8eAKV3Z+UrZDkzjZDoBwl9YUvRoH5w+UyZNqozBSXU0U5thdCKj0BQhgYOafs6i/8rj+29CvYqfLOV+hM27LWVmrYOuo2sYSIv3hfCHX929ogGu2voUBul9HfTh5UO/cdqjx+sd84s/gSZW9mg=
#         'on':
#           repo: renatahodovan/grammarinator
#           tags: true
#       if: "${{ github.event_name == 'push' && ${{ github.ref }} }}"